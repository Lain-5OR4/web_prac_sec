# 認証デモアプリケーション

Webアプリケーションの認証講義用デモアプリです。React + Hono を使用して、様々な認証方式と一般的なセキュリティ脆弱性を実演します。

## 📚 講義内容

このデモアプリケーションでは以下の内容を学習できます：

### 認証方式
1. **基本認証（Basic Authentication）**
   - Base64エンコーディング
   - HTTPヘッダーでの認証情報送信
   - セキュリティ上の注意点

2. **セッション認証**
   - サーバー側セッション管理
   - HTTPOnly Cookie
   - セッションライフサイクル

3. **JWT認証**
   - JSON Web Token
   - ステートレス認証
   - トークンの構造と検証

### セキュリティ脆弱性
1. **弱いパスワード**
2. **ブルートフォース攻撃**
3. **セッションハイジャック**
4. **CSRF、XSS、SQLインジェクション（概念説明）**

## 🚀 セットアップ

### 前提条件
- Node.js 18以上
- npm または yarn

### インストール

1. リポジトリをクローン
```bash
git clone <repository-url>
cd auth-demo
```

2. 依存関係をインストール
```bash
# ルートディレクトリで
npm install

# クライアント側の依存関係
cd client
npm install
```

### 実行方法

1. **サーバー起動**
```bash
# ルートディレクトリで
npm run dev
```
サーバーは http://localhost:3000 で起動します。

2. **クライアント起動**
```bash
# 新しいターミナルで
cd client
npm run dev
```
クライアントは http://localhost:5173 で起動します。

## 🎯 使用方法

### サンプルアカウント
デモには以下のサンプルアカウントが用意されています：

- **admin** : password123
- **user1** : mypassword  
- **demo** : demo123

### デモ画面
ブラウザで http://localhost:5173 にアクセスし、各タブをクリックして異なる認証方式を試してください。

## 📖 API エンドポイント

### 基本認証
- `POST /api/auth/basic` - 基本認証

### セッション認証
- `POST /api/auth/session/login` - ログイン
- `POST /api/auth/session/logout` - ログアウト
- `GET /api/auth/session/check` - セッション確認

### JWT認証
- `POST /api/auth/jwt/login` - JWTログイン
- `GET /api/auth/jwt/verify` - JWT検証

### 保護されたリソース
- `GET /api/protected/session` - セッション認証が必要
- `GET /api/protected/jwt` - JWT認証が必要

### 脆弱性デモ
- `POST /api/demo/weak-password` - 弱いパスワードテスト
- `POST /api/demo/brute-force` - ブルートフォース攻撃シミュレーション

## 🔧 技術スタック

### フロントエンド
- React 18
- TypeScript
- Vite
- CSS3 (Grid/Flexbox)

### バックエンド
- Hono (Web Framework)
- Node.js
- TypeScript
- bcryptjs (パスワードハッシュ化)
- jsonwebtoken (JWT)

## ⚠️ セキュリティ注意事項

**このアプリケーションは教育目的のみです。以下の点にご注意ください：**

1. **本番環境では使用しないでください**
2. 実際のシステムに対して攻撃を試行しないでください
3. デモで使用しているパスワードは脆弱です
4. JWT署名キーはハードコードされています（本番では環境変数を使用）

## 📚 学習ポイント

### セキュリティベストプラクティス
1. **強力なパスワードポリシー**
2. **HTTPS通信の使用**
3. **適切なセッション管理**
4. **入力値検証**
5. **レート制限**
6. **ログ監視**

### 実装時の注意点
1. **機密情報の適切な管理**
2. **エラーハンドリング**
3. **アクセス制御**
4. **監査ログ**

## 🎓 講義での使用方法

1. **理論説明** - 各認証方式の概念を説明
2. **実演** - ブラウザでデモを実行
3. **コード確認** - 実装コードを解説
4. **脆弱性デモ** - セキュリティ問題を実演
5. **対策討論** - ベストプラクティスを議論

## 🔧 カスタマイズ

### 新しい認証方式の追加
1. サーバー側にエンドポイントを追加
2. React コンポーネントを作成
3. App.tsx にタブを追加

### 脆弱性例の追加
1. VulnerabilityDemo.tsx を編集
2. 対応するAPIエンドポイントを実装

---

**注意**: このアプリケーションは意図的に脆弱性を含んでいます。学習目的以外での使用は推奨されません。
